{"ast":null,"code":"var _jsxFileName = \"/app/frontend/src/components/EventsRequest.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport EventRequest from './EventRequest';\nimport PostService from '../API/PostService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst EventsRequest = _ref => {\n  _s();\n\n  let {\n    events,\n    setEvents\n  } = _ref;\n  const [isLoading, setIsLoading] = React.useState(false);\n\n  const deleteEvent = (e, index) => {\n    e.preventDefault();\n\n    async function fetchData() {\n      console.log('Отклонить');\n      console.log({\n        id: events[index].id,\n        api_token: localStorage.getItem('api_token')\n      });\n      setIsLoading(true);\n      const response = await PostService.deleteEventRequest({\n        id: events[index].id,\n        api_token: localStorage.getItem('api_token')\n      });\n      console.log(response.data);\n\n      if (response.data.status_code === 200) {\n        setEvents([...events, ...response.data.object]);\n      }\n\n      setIsLoading(false);\n    }\n\n    fetchData();\n  };\n\n  const addEvent = (e, index) => {\n    e.preventDefault();\n\n    async function fetchData() {\n      console.log('Принять');\n      console.log({ ...events[index],\n        api_token: localStorage.getItem('api_token')\n      });\n      const response = await PostService.addEventRequest({ ...events[index],\n        api_token: localStorage.getItem('api_token')\n      });\n      console.log(response.data);\n\n      if (response.data.status_code === 200) {\n        setEvents([...events, ...response.data.object]);\n      }\n    }\n\n    fetchData();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: events !== [] ? events.map((event, index) => /*#__PURE__*/_jsxDEV(EventRequest, {\n      event: event,\n      index: index,\n      delEvent: deleteEvent,\n      addEvent: addEvent\n    }, event.id + Math.random(), false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 21\n    }, this)) : /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"\\u0417\\u0430\\u044F\\u0432\\u043E\\u043A \\u043D\\u0435\\u0442\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 19\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this);\n};\n\n_s(EventsRequest, \"EmvgwIb3cHpoFpeP+WmEDbjx4y4=\");\n\n_c = EventsRequest;\nexport default EventsRequest;\n\nvar _c;\n\n$RefreshReg$(_c, \"EventsRequest\");","map":{"version":3,"names":["React","EventRequest","PostService","EventsRequest","events","setEvents","isLoading","setIsLoading","useState","deleteEvent","e","index","preventDefault","fetchData","console","log","id","api_token","localStorage","getItem","response","deleteEventRequest","data","status_code","object","addEvent","addEventRequest","map","event","Math","random"],"sources":["/app/frontend/src/components/EventsRequest.jsx"],"sourcesContent":["import React from 'react';\nimport EventRequest from './EventRequest'\nimport PostService from '../API/PostService'\n\nconst EventsRequest = ({ events, setEvents }) => {\n    const [isLoading, setIsLoading] = React.useState(false)\n    \n    const deleteEvent = (e, index) => {\n        e.preventDefault();\n        async function fetchData() {\n            console.log('Отклонить')\n            console.log({id: events[index].id, api_token: localStorage.getItem('api_token')})\n            setIsLoading(true)\n            const response = await PostService.deleteEventRequest({id: events[index].id, api_token: localStorage.getItem('api_token')});\n            console.log(response.data)\n            if (response.data.status_code === 200) {\n                setEvents([...events, ...response.data.object]);   \n            }\n            setIsLoading(false)\n        }\n        fetchData();\n    }\n\n    const addEvent = (e, index) => {\n        e.preventDefault();\n        async function fetchData() {\n            console.log('Принять')\n            console.log({...events[index], api_token: localStorage.getItem('api_token')})\n            const response = await PostService.addEventRequest({...events[index], api_token: localStorage.getItem('api_token')});\n            console.log(response.data)\n            if (response.data.status_code === 200) {\n                setEvents([...events, ...response.data.object]);   \n            }\n        }\n        fetchData();\n    }\n\n    return (\n        <div className='container'>\n            {events !== []\n                ?\n                events.map((event, index) => (\n                    <EventRequest key={event.id + Math.random()} event={event} index={index} delEvent={deleteEvent} addEvent={addEvent}/>\n                ))\n                : <h1>Заявок нет</h1>\n            }\n        </div>\n    );\n};\n\nexport default EventsRequest;"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,WAAP,MAAwB,oBAAxB;;;AAEA,MAAMC,aAAa,GAAG,QAA2B;EAAA;;EAAA,IAA1B;IAAEC,MAAF;IAAUC;EAAV,CAA0B;EAC7C,MAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BP,KAAK,CAACQ,QAAN,CAAe,KAAf,CAAlC;;EAEA,MAAMC,WAAW,GAAG,CAACC,CAAD,EAAIC,KAAJ,KAAc;IAC9BD,CAAC,CAACE,cAAF;;IACA,eAAeC,SAAf,GAA2B;MACvBC,OAAO,CAACC,GAAR,CAAY,WAAZ;MACAD,OAAO,CAACC,GAAR,CAAY;QAACC,EAAE,EAAEZ,MAAM,CAACO,KAAD,CAAN,CAAcK,EAAnB;QAAuBC,SAAS,EAAEC,YAAY,CAACC,OAAb,CAAqB,WAArB;MAAlC,CAAZ;MACAZ,YAAY,CAAC,IAAD,CAAZ;MACA,MAAMa,QAAQ,GAAG,MAAMlB,WAAW,CAACmB,kBAAZ,CAA+B;QAACL,EAAE,EAAEZ,MAAM,CAACO,KAAD,CAAN,CAAcK,EAAnB;QAAuBC,SAAS,EAAEC,YAAY,CAACC,OAAb,CAAqB,WAArB;MAAlC,CAA/B,CAAvB;MACAL,OAAO,CAACC,GAAR,CAAYK,QAAQ,CAACE,IAArB;;MACA,IAAIF,QAAQ,CAACE,IAAT,CAAcC,WAAd,KAA8B,GAAlC,EAAuC;QACnClB,SAAS,CAAC,CAAC,GAAGD,MAAJ,EAAY,GAAGgB,QAAQ,CAACE,IAAT,CAAcE,MAA7B,CAAD,CAAT;MACH;;MACDjB,YAAY,CAAC,KAAD,CAAZ;IACH;;IACDM,SAAS;EACZ,CAdD;;EAgBA,MAAMY,QAAQ,GAAG,CAACf,CAAD,EAAIC,KAAJ,KAAc;IAC3BD,CAAC,CAACE,cAAF;;IACA,eAAeC,SAAf,GAA2B;MACvBC,OAAO,CAACC,GAAR,CAAY,SAAZ;MACAD,OAAO,CAACC,GAAR,CAAY,EAAC,GAAGX,MAAM,CAACO,KAAD,CAAV;QAAmBM,SAAS,EAAEC,YAAY,CAACC,OAAb,CAAqB,WAArB;MAA9B,CAAZ;MACA,MAAMC,QAAQ,GAAG,MAAMlB,WAAW,CAACwB,eAAZ,CAA4B,EAAC,GAAGtB,MAAM,CAACO,KAAD,CAAV;QAAmBM,SAAS,EAAEC,YAAY,CAACC,OAAb,CAAqB,WAArB;MAA9B,CAA5B,CAAvB;MACAL,OAAO,CAACC,GAAR,CAAYK,QAAQ,CAACE,IAArB;;MACA,IAAIF,QAAQ,CAACE,IAAT,CAAcC,WAAd,KAA8B,GAAlC,EAAuC;QACnClB,SAAS,CAAC,CAAC,GAAGD,MAAJ,EAAY,GAAGgB,QAAQ,CAACE,IAAT,CAAcE,MAA7B,CAAD,CAAT;MACH;IACJ;;IACDX,SAAS;EACZ,CAZD;;EAcA,oBACI;IAAK,SAAS,EAAC,WAAf;IAAA,UACKT,MAAM,KAAK,EAAX,GAEGA,MAAM,CAACuB,GAAP,CAAW,CAACC,KAAD,EAAQjB,KAAR,kBACP,QAAC,YAAD;MAA6C,KAAK,EAAEiB,KAApD;MAA2D,KAAK,EAAEjB,KAAlE;MAAyE,QAAQ,EAAEF,WAAnF;MAAgG,QAAQ,EAAEgB;IAA1G,GAAmBG,KAAK,CAACZ,EAAN,GAAWa,IAAI,CAACC,MAAL,EAA9B;MAAA;MAAA;MAAA;IAAA,QADJ,CAFH,gBAKK;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EANV;IAAA;IAAA;IAAA;EAAA,QADJ;AAWH,CA5CD;;GAAM3B,a;;KAAAA,a;AA8CN,eAAeA,aAAf"},"metadata":{},"sourceType":"module"}